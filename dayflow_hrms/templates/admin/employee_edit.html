{% extends 'base.html' %}

{% block title %}Edit Employee - Dayflow HRMS{% endblock %}

{% block content %}
<div class="fade-in">
    <h1>Edit Employee</h1>
    <p class="text-secondary mb-4">Update employee information</p>

    <div class="card" style="max-width: 800px;">
        <div class="card-body">
            <form method="POST">
                {% csrf_token %}

                <h3 class="mb-3">Personal Information</h3>

                <div class="grid grid-2">
                    <div class="form-group">
                        <label for="first_name" class="form-label">First Name</label>
                        <input type="text" name="first_name" id="first_name" class="form-input"
                            value="{{ employee.first_name }}" required>
                    </div>

                    <div class="form-group">
                        <label for="last_name" class="form-label">Last Name</label>
                        <input type="text" name="last_name" id="last_name" class="form-input"
                            value="{{ employee.last_name }}" required>
                    </div>
                </div>

                <div class="form-group">
                    <label for="email" class="form-label">Email</label>
                    <input type="email" name="email" id="email" class="form-input" value="{{ employee.email }}"
                        required>
                </div>

                <div class="form-group">
                    <label for="phone" class="form-label">Phone</label>
                    <input type="text" name="phone" id="phone" class="form-input"
                        value="{{ employee.phone|default:'' }}">
                </div>

                <hr class="mt-4 mb-4">

                <h3 class="mb-3">Job Information</h3>

                <div class="grid grid-2">
                    <div class="form-group">
                        <label for="department" class="form-label">Department</label>
                        <input type="text" name="department" id="department" class="form-input"
                            value="{{ profile.department }}" required>
                    </div>

                    <div class="form-group">
                        <label for="position" class="form-label">Position</label>
                        <input type="text" name="position" id="position" class="form-input"
                            value="{{ profile.position }}" required>
                    </div>
                </div>

                <div class="grid grid-2">
                    <div class="form-group">
                        <label for="employment_type" class="form-label">Employment Type</label>
                        <select name="employment_type" id="employment_type" class="form-select">
                            <option value="Full-time" {% if profile.employment_type=='Full-time' %}selected{% endif %}>
                                Full-time</option>
                            <option value="Part-time" {% if profile.employment_type=='Part-time' %}selected{% endif %}>
                                Part-time</option>
                            <option value="Contract" {% if profile.employment_type=='Contract' %}selected{% endif %}>
                                Contract</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="date_joined" class="form-label">Date Joined</label>
                        <input type="date" name="date_joined" id="date_joined" class="form-input"
                            value="{{ profile.date_joined|date:'Y-m-d' }}">
                    </div>
                </div>

                <div class="flex gap-2 mt-4">
                    <button type="submit" class="btn btn-primary">Save Changes</button>
                    <a href="{% url 'view_employee_detail' employee.id %}" class="btn btn-secondary">Cancel</a>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}