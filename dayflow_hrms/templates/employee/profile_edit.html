{% extends 'base.html' %}

{% block title %}Edit Profile - Dayflow HRMS{% endblock %}

{% block content %}
<div class="fade-in">
    <h1>Edit Profile</h1>
    <p class="text-secondary mb-4">Update your personal information</p>

    <div class="card" style="max-width: 600px;">
        <div class="card-body">
            <form method="POST" enctype="multipart/form-data">
                {% csrf_token %}

                <div class="form-group">
                    <label for="profile_picture" class="form-label">Profile Picture</label>
                    <input type="file" name="profile_picture" id="profile_picture" class="form-input" accept="image/*">
                    <p class="text-secondary mt-1" style="font-size: 0.875rem;">Upload a new profile picture (optional)
                    </p>
                </div>

                <div class="form-group">
                    <label for="phone" class="form-label">Phone Number</label>
                    <input type="text" name="phone" id="phone" class="form-input" value="{{ user.phone|default:'' }}"
                        placeholder="Enter phone number">
                </div>

                <div class="form-group">
                    <label for="address" class="form-label">Address</label>
                    <textarea name="address" id="address" class="form-textarea" rows="4"
                        placeholder="Enter your address">{{ profile.personal_details.address|default:'' }}</textarea>
                </div>

                <div class="alert alert-info">
                    <strong>Note:</strong> You can only edit phone, address, and profile picture. For other changes,
                    contact your HR department.
                </div>

                <div class="flex gap-2">
                    <button type="submit" class="btn btn-primary">Save Changes</button>
                    <a href="{% url 'view_profile' %}" class="btn btn-secondary">Cancel</a>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}